\شروع{لم}
فرض کنید 

لحظه  
$t \in [t_1,t_2)$
را در نظر بگیرید که 
$x_t > \frac{\tracker}{C}$
و فرض کنید موجودی \off  در سمت فرستنده تراکنش (بدون کاستن از عمومیت فرض میکنیم $\ell$ فرستنده است) برای پذیرش $x_t$ کافی نیست یعنی
$A_{\ell}(X_t) < x_t$
در این صورت الگوریتم \off
$x_t$
را رد میکند
\پایان{لم}
\شروع{اثبات}
هزینه رد کردن 
$x_t$,
$f_2$
است


\پایان{اثبات}


\شروع{لم}
در بین تراکنش هایی که در بازه 
$t \in [t_1,t_2)$
توسط \off رد شده اند، هیچ زیردنباله ای از تراکنش ها نمیتوان پیدا کرد که اندازه هر کدام از آنها
$x \leq \frac{\tracker}{C}$
باشد و جهت همه آن ها از راست به چپ یا چپ به راست باشد و مجموع اندازه های آنها بزرگ تر از 
$\tracker$
باشد.

\پایان{لم}
\شروع{اثبات} این زیرنباله از تراکنش ها را که \off رد کرده است 
$\zeta$
مینامیم و بدون از دست دادن عمومیت فرض میکنیم که این تراکنش ها از چپ به راست هستند. نشان میدهیم الگوریتم \off' را میتوان ساخت که این تراکنش ها را میپذیرد و هزینه کمتری از \off دارد و این با بهینه بودن \off متناقض است.
 زمان اولین تراکنش زیردنباله
$zeta$
 را 
$t'$
مینامیم،
$t' \in [t_1,t_2)$.
الگوریتم \off' را که در لحظه $t'$ به اندازه الگوریتم \off موجودی دارد را به طور زیر میسازیم و موجودی آن در سمت چپ را با 
$A'_{\ell}(X_t)$
نمایش میدهیم:
\کد{
If $t < t'$ follow \off\\
If $A'_{\ell}(X_t) \geq x_{t'}$ Accept $ x_{t'}$ otherwise do off-chain rebalancing such that after rebalancing have $\sum_{x \in \zeta} x$ funds in the left side
}





\پایان{اثبات}